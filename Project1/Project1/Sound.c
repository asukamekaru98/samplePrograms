#include <stdio.h>
#include <Windows.h>

typedef struct {
    int iTime;  // ブザーを鳴らす時間（単位:10ms）
    int iFreq;  // ブザーの周波数(単位:1Hz)
} BUZZER_DEF;

static const BUZZER_DEF s_Buzzer_Music[] = {
    {400, 392},   // 第1小節
    {400, 392},
    {400, 392},
    {400, 440},
    {400, 440},
    {400, 392},
    {400, 392},
    {400, 440},
    {400, 392},
    {400, 349},
    {400, 330},
    {400, 294},
    {400, 294},
    {400, 330},
    {400, 349},
    {400, 392},
    {400, 392},
    {400, 349},
    {400, 330},
    {400, 294},
    {400, 294},
    {400, 330},
    {400, 349},
    {400, 392},
    {400, 392},
    {400, 392},
    {400, 440},
    {400, 440},
    {400, 392},
    {400, 392},
    {400, 440},
    {400, 392},
    {400, 349},
    {400, 330},
    {400, 294},
    {400, 294},
    {400, 330},
    {400, 349},
    {400, 392},
    {400, 392},
    {400, 349},
    {400, 330},
    {400, 294},
    {400, 294},
    {400, 330},
    {400, 349},
    {400, 392},
    {400, 330},   // 第2小節
    {400, 330},
    {400, 294},
    {400, 330},
    {400, 349},
    {400, 392},
    {400, 440},
    {400, 392},
    {400, 349},
    {400, 330},
    {400, 294},
    {400, 330},
    {400, 349},
    {400, 392},
    {400, 440},
    {400, 392},
    {400, 349},
    {400, 330},
    {400, 294},
    {400, 330},
    {400, 349},
    {400, 392},
    {400, 440},
    {400, 392},   // 第3小節
    {400, 392},
    {400, 392},
    {400, 440},
    {400, 440},
    {400, 392},
    {400, 392},
    {400, 440},
    {400, 392},
    {400, 349},
    {400, 330},
    {400, 294},
    {400, 294},
    {400, 330},
    {400, 349},
    {400, 392},
    {400, 392},
    {400, 349},
    {400, 330},
    {400, 294},
    {400, 294},
    {400, 330},
    {400, 349},
    {400, 392},
    {400, 392},
    {400, 392},
    {400, 440},
    {400, 440},
    {400, 392},
    {400, 392},
    {400, 440},
    {400, 392},
    {400, 349},
    {400, 330},
    {400, 294},
    {400, 294},
    {400, 330},
    {400, 349},
    {400, 392},
    {400, 392},
    {400, 349},
    {400, 330},
    {400, 294},
    {400, 294},
    {400, 330},
    {400, 349},
    {400, 392},
    {0, 0}  // 終端マーク
};

// ブザーを鳴らす関数
void buzz(int freq, int duration) {
    if (freq == 0) {
        Sleep(duration); // ミリ秒単位でスリープ
    }
    else {
        Beep(freq, duration); // ブザーの周波数と時間を指定してビープ音を鳴らす
    }
}

// 音楽を演奏する関数
void playMusic(const BUZZER_DEF* music) {
    int i = 0;
    while (music[i].iTime != 0 || music[i].iFreq != 0) {
        buzz(music[i].iFreq, music[i].iTime);
        i++;
    }
}

int main() {
    // 「ジムノペディ第1番」を演奏
    playMusic(s_Buzzer_Music);
    return 0;
}
